<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Call Cell Hashing And Generate Report — CallAndGenerateReport • cellhashR</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Call Cell Hashing And Generate Report — CallAndGenerateReport"><meta property="og:description" content="Runs the default processing pipeline"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">


    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">cellhashR</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">1.2.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles

    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/V01-QC-example.html">Data/Normalization QC</a>
    </li>
    <li>
      <a href="../articles/V02-BFF-example.html">Demultiplexing with Bimodal Flexible Fitting (BFF)</a>
    </li>
    <li>
      <a href="../articles/V03-Benchmark-example.html">Benchmarking Demultiplexing Algorithms with cellhashR</a>
    </li>
  </ul></li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/BimberLab/cellhashR/" class="external-link">
    <span class="fab fa-github fa-lg"></span>

  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->



      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Call Cell Hashing And Generate Report</h1>
    <small class="dont-index">Source: <a href="https://github.com/BimberLab/cellhashR/blob/master/R/CellHashing.R" class="external-link"><code>R/CellHashing.R</code></a></small>
    <div class="hidden name"><code>CallAndGenerateReport.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Runs the default processing pipeline</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">CallAndGenerateReport</span><span class="op">(</span></span>
<span>  <span class="va">rawCountData</span>,</span>
<span>  <span class="va">reportFile</span>,</span>
<span>  <span class="va">callFile</span>,</span>
<span>  rawFeatureMatrixH5 <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  barcodeWhitelist <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  barcodeBlacklist <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"no_match"</span>, <span class="st">"total_reads"</span>, <span class="st">"unmapped"</span><span class="op">)</span>,</span>
<span>  cellbarcodeWhitelist <span class="op">=</span> <span class="st">"inputMatrix"</span>,</span>
<span>  methods <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"bff_cluster"</span>, <span class="st">"gmm_demux"</span>, <span class="st">"dropletutils"</span><span class="op">)</span>,</span>
<span>  methodsForConsensus <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  minCountPerCell <span class="op">=</span> <span class="fl">5</span>,</span>
<span>  title <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  metricsFile <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  rawCountsExport <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  skipNormalizationQc <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  keepMarkdown <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  molInfoFile <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  majorityConsensusThreshold <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  callerDisagreementThreshold <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  doTSNE <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  datatypeName <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  maxAllowableDoubletRate <span class="op">=</span> <span class="st">"auto"</span>,</span>
<span>  minAllowableDoubletRateFilter <span class="op">=</span> <span class="fl">0.3</span>,</span>
<span>  minAllowableSingletRate <span class="op">=</span> <span class="fl">0.05</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>


<dl><dt id="arg-rawcountdata">rawCountData<a class="anchor" aria-label="anchor" href="#arg-rawcountdata"></a></dt>
<dd><p>The input barcode file or umi_count folder</p></dd>


<dt id="arg-reportfile">reportFile<a class="anchor" aria-label="anchor" href="#arg-reportfile"></a></dt>
<dd><p>The file to which the HTML report will be written</p></dd>


<dt id="arg-callfile">callFile<a class="anchor" aria-label="anchor" href="#arg-callfile"></a></dt>
<dd><p>The file to which the table of calls will be written</p></dd>


<dt id="arg-rawfeaturematrixh-">rawFeatureMatrixH5<a class="anchor" aria-label="anchor" href="#arg-rawfeaturematrixh-"></a></dt>
<dd><p>Both demuxEM and demuxmix require the 10x h5 gene expression count file. This is only required when either demuxEM or demuxmix are used.</p></dd>


<dt id="arg-barcodewhitelist">barcodeWhitelist<a class="anchor" aria-label="anchor" href="#arg-barcodewhitelist"></a></dt>
<dd><p>A vector of barcode names to retain.</p></dd>


<dt id="arg-barcodeblacklist">barcodeBlacklist<a class="anchor" aria-label="anchor" href="#arg-barcodeblacklist"></a></dt>
<dd><p>A vector of barcodes names to discard. An example would be an input library generated with CITE-seq and cell hashing. In this case, it may make sense to discard the CITE-seq markers.</p></dd>


<dt id="arg-cellbarcodewhitelist">cellbarcodeWhitelist<a class="anchor" aria-label="anchor" href="#arg-cellbarcodewhitelist"></a></dt>
<dd><p>Either a vector of expected barcodes (such as all cells with passing gene expression data), a file with one cellbarcode per line, or the string 'inputMatrix'. If the latter is provided, the set of cellbarcodes present in the original unfiltered count matrix will be stored and used for reporting. This allows the report to count cells that were filtered due to low counts separately from negative/non-callable cells.</p></dd>


<dt id="arg-methods">methods<a class="anchor" aria-label="anchor" href="#arg-methods"></a></dt>
<dd><p>The set of methods to use for calling. See GenerateCellHashingCalls for options.</p></dd>


<dt id="arg-methodsforconsensus">methodsForConsensus<a class="anchor" aria-label="anchor" href="#arg-methodsforconsensus"></a></dt>
<dd><p>By default, a consensus call will be generated using all methods; however, if this parameter is provided, all algorithms specified by methods will be run, but only the list here will be used for the final consensus call. This allows one to see the results of a given caller without using it for the final calls.</p></dd>


<dt id="arg-mincountpercell">minCountPerCell<a class="anchor" aria-label="anchor" href="#arg-mincountpercell"></a></dt>
<dd><p>Cells (columns) will be dropped if their total count is less than this value.</p></dd>


<dt id="arg-title">title<a class="anchor" aria-label="anchor" href="#arg-title"></a></dt>
<dd><p>A title for the HTML report</p></dd>


<dt id="arg-metricsfile">metricsFile<a class="anchor" aria-label="anchor" href="#arg-metricsfile"></a></dt>
<dd><p>If provided, summary metrics will be written to this file.</p></dd>


<dt id="arg-rawcountsexport">rawCountsExport<a class="anchor" aria-label="anchor" href="#arg-rawcountsexport"></a></dt>
<dd><p>If provided, the raw count matrix, after processing, will be written as an RDS object to this file. This can be useful for debugging.</p></dd>


<dt id="arg-skipnormalizationqc">skipNormalizationQc<a class="anchor" aria-label="anchor" href="#arg-skipnormalizationqc"></a></dt>
<dd><p>If true, the normalization/QC plots will be skipped. These can be time consuming on large input data.</p></dd>


<dt id="arg-keepmarkdown">keepMarkdown<a class="anchor" aria-label="anchor" href="#arg-keepmarkdown"></a></dt>
<dd><p>If true, the markdown file will be saved, in addition to the HTML file</p></dd>


<dt id="arg-molinfofile">molInfoFile<a class="anchor" aria-label="anchor" href="#arg-molinfofile"></a></dt>
<dd><p>An optional path to the 10x molecule_info.h5.</p></dd>


<dt id="arg-majorityconsensusthreshold">majorityConsensusThreshold<a class="anchor" aria-label="anchor" href="#arg-majorityconsensusthreshold"></a></dt>
<dd><p>This applies to calculating a consensus call when multiple algorithms are used. If NULL, then all non-negative calls must agree or that cell is marked discordant. If non-NULL, then the number of algorithms returning the top call is divided by the total number of non-negative calls. If this ratio is above the majorityConsensusThreshold, that value is selected. For example, when majorityConsensusThreshold=0.6 and the calls are: HTO-1,HTO-1,Negative,HTO-2, then 2/3 calls are for HTO-1, giving 0.66. This is greater than the majorityConsensusThreshold of 0.6, so HTO-1 is returned. This can be useful for situations where most algorithms agree, but a single caller fails.</p></dd>


<dt id="arg-callerdisagreementthreshold">callerDisagreementThreshold<a class="anchor" aria-label="anchor" href="#arg-callerdisagreementthreshold"></a></dt>
<dd><p>If provided, the agreement rate will be calculated between each caller and the simple majority call, ignoring discordant and no-call cells. If any caller has an disagreement rate above this threshold, it will be dropped and the consensus call re-calculated. The general idea is to drop a caller that is systematically discordant.</p></dd>


<dt id="arg-dotsne">doTSNE<a class="anchor" aria-label="anchor" href="#arg-dotsne"></a></dt>
<dd><p>If true, tSNE will be run on results as part of QC. This can be memory intensive and is not strictly needed, so it can be skipped if desired.</p></dd>


<dt id="arg-datatypename">datatypeName<a class="anchor" aria-label="anchor" href="#arg-datatypename"></a></dt>
<dd><p>For output from CellRanger &gt;= 3.0 with multiple data types, the result of Seurat::Read10X is a list. You need to supply the name of the Antibody Capture</p></dd>


<dt id="arg-maxallowabledoubletrate">maxAllowableDoubletRate<a class="anchor" aria-label="anchor" href="#arg-maxallowabledoubletrate"></a></dt>
<dd><p>Per caller, the doublet rate will be computed as the total doublets / total droplets (including negatives). Any individual caller with a doublet rate above this value will be converted to NoCall. Note: if 'auto' is chosen, the value will be selected as 3x the theoretical doublet rate.</p></dd>


<dt id="arg-minallowabledoubletratefilter">minAllowableDoubletRateFilter<a class="anchor" aria-label="anchor" href="#arg-minallowabledoubletratefilter"></a></dt>
<dd><p>This is the lower bound allowed for maxAllowableDoubletRate. This is primarily used to avoid excessively low values when selecting 'auto' for maxAllowableDoubletRate.</p></dd>


<dt id="arg-minallowablesingletrate">minAllowableSingletRate<a class="anchor" aria-label="anchor" href="#arg-minallowablesingletrate"></a></dt>
<dd><p>If any algorithm scored fewer than this fraction of cells as singlets, it will be discarded from the consensus call. This is primarily designed as a means to automatically discard poorly performing algorithms.</p></dd>

</dl></div>

  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by The package maintainer.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

      </footer></div>






  </body></html>

